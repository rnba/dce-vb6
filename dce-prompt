#!/usr/bin/zsh -efu

print -f "\n>>> remaining matches:\n"
git grep -iw $n $dir
print '>>> (c)ommit / (e)dit / (s)skip / (w)rite commit msg? '
read -u 0 action
case $action in
c)
  dce-commit -F
  exit 1
  ;;
e)
  ${VISUAL:-vim} $file </dev/tty
  exit 0
  ;;
s)
  rm -f $file.$n
  git checkout -f
  exit 1
  ;;
w)
  dce-commit -t
  exit 1
  ;;
*)
  print -f "GOT %s" "$action"
  exit 0
  ;;
esac
